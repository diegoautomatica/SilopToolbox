ToDo:
Para el 1.0
	Documentar la función eventosPiernaG. 
		el parametro sin documentar fh no se respeta.
	eventospierectoff tiene documentacion que no coincide con lo que hace la funcion.
		el parámetro frecuencia no se respeta.
	Incluir las funciones de JC para el pie + ¿orientaciones por defecto?

Para el futuro:
	Algoritmos
		Añadir dependencia de alg_est_mov a alg_det_event
		Implementar el resto de algoritmos posibles (v?): actividad, saltos, sentadillas, biceps, piraguas, 
			paso desde pie/pierna... 

	SO:
		Que funcione en osx

	Funcionalidad:	
		Implementar removeimu, para eliminar imus añadidos por addimu
		Implementar removealgoritmo, para eliminar algoritmos añadidos por addalgoritmo
		Implementar siloptool, herrapiemta grafica de creacions de silopprogramas
		Initsilop debe soportar añadir sensores en mas puntos.
        Initsilop debe soportar que los sensores tengan más señales
            Los dos puntos se resumen en dejar empty 'SILOP_CONFIG.SENHALES' y delegar trabajo en addimu
        Los cambios en initsilop hace que addimu deba rellenar SILOP_CONFIG_SENHALES para ese sensor

	Nuevos sensores
        Initsilop debe soportar todos los campos del SparkFun 5dof ? 
		Addimu debe soportar especificar el tipo de sensor (o autodetectarlo segun el nombre/num serie)
		connectsilop debe permitir conectar a otros sensores
			implica hacer la fontanería de comunicaciones
		playsilop debe soportar los nuevos sensores
		stopsilop debe soportar los nuevos sensores.
		Permitir capturar simultaneamente de dos fuentes y sincronizarlas correctamente.



-------------------------------------------------------------------------------------------

Done: 
v0.9.4   eliminadas referencias al COG en conecta_a_log y conecta_a_tana   
		connectsilop lista para nombres de posiciones variables
    conecta_a_xbus lista para nombres de posiciones variables.
    alg_est_dist_simur ignora los TO, hasta que tengamos un metodo de deteccion fiable. Documentado.
    Bugs es alg_est_dist_simur. parametros por defecto mal comprobados
    Bugs en distanciapenduloparcial to instead of TO
    Bugs en distanciapenduloparcial SILOP_penduloparcial.KSP mal referenciado como KSP
    connectsilop, conectar_a_sl corregigo bug de CONFIG instead of SILOP_CONFIG
    conectar_a_sl lista para nombres de posiciones variables.

v0.9.3  Cambiado el nombre a Inersens
	1.0	conectar_a_tana lista para nombres de posiciones variables.
    Incluida la licencia y los autores en un fichero README y ShotLicense para que se incluya en la ayuda online
    conectar_a_log lista para nombres de posiciones variables.
    Reemplazados los eval por referenciacion indirecta .() en diversas funciones.
    Factorizada connectsilop en conecta_a_log conecta_a_tana conecta_a_sl y conecta_a_xbus para más fácil comprension
    Initsilop inicializa a [] SILOP_CONFIG.BUS.SENHALES, necesario para que la lista sea dinámica, antes de rellenarla. 
	Initsilop inicializa SILOP_CONFIG.BUS.{SF_3D y SF_6DOF} = -1; para manejar los SparkFun serial 3d accelerometers
		y bluettoth 5 degree of freedom.

v0.9.2	Unificado el funcionamienot para Xsens BT y USB. Ahora se usan gotoconfig y gotomeasurement directamente.
	Pasadas a private todas las funciones de manejo directo de los Xsens.
	Todos los fwrite al puerto serie se hacen 'async'ronos.  Ahora funciona en Linux	
	Se vuelven a lanzar los errores en connectsilop y playsilop desde los try, para romper scripts externos que
			encuentren el error
		
v0.9.1	modificadas las comunicaciones para usar correctamente el RTS. Cporregido problema con bluetooth.
	modificadas las comunicaciones a 2 bits de stop. corrige el problema del bluettoh y de linux?
	destruyexbusmaster está algo mas protegido para que garantice mejor la destruccion.
	connecsilop captura los errores posteriores creaxbusmaster y destruye el bus mediante stopsilop    
	creaxbusmaster destruye el puerto si se produjo un error. No se podía hacer a alto nivel porque el puerto aún no estan el SILOP_CONFIG.
	playsilop() captura cualquier error lanzado y llama a stopsilop() para salir limpiamente
	Se limpian todos los algoritmos al salir.
    Modificado alg_plot_pos2d para recordar toda la señal.
	eliminar todas las devoluciones de valores de error. Ahora se arrojan mediante error. Se pueden pillar con un try catch.

v0.9    auditoria de codigo. Pillados muchos bugs.
	stopsilop() por defecto deja todo listo para rellamar a playsilop(). Puede detenerlo todo opcionalmente.
	ReImplementar la calibracion en un alg_ejes_anatomicos, por medio de SILOP_CONFIG y SetObjectAlignment
	       Automáticamente todas las señales dependerán de las calibradas.	
	Limpieza del warnings del depurador para buscar más fácil los problemas
	Se aprovecha para hacer un tratamiento más consistente de las señales y los puntos. Ahora casí todo está en listas
	     que podrían ser incluidas en una única lista dentro de SILOP_CONFIG, para mas fácil modificación.
	     Actualemente está "duplicada" en initsilop, connectsilop(que sigue accediendo a señales directamente en las
	     simulaciones), y addimu
	Pasar Config a SILOP_CONFIG global y hacer que desaparezca de la vista del usuario. Implica:
	     Modificar la demo, Modificar initsilop, Modificar addimu, Modificar connectsilop, Modificar addalgoritmo
	     Modificar playsilop y creacomandos.
	     Modificar stopsilop y loadsilop

v0.8    orientacion por defecto para el COG R=[3,-2,1]
	connectsilop soporta que los ejes sean negativos en tiempo real
	corregidos errores diversos. connectsilop no actualizaba bien el numero de señales y otros
	corregidos errores en algoritmos alg_det_event y alg_est_orientacion* cuando no se tienen datos.
	connectsilop ya permite reorientar totalmente en simulación. Se rotan los datos originales.
	Implementados los mensajes RegObjectAlignment y SetObjectAlignement necesarios para la reorientación
	Implementada la simulación desde ficheros .tana (ap,ml,v,t,t)
	Configurar automáticamente la orientacion de los imus. mediante R en connectsilop (sólo para valores
		positivos, no se aceptan por ahora valores negativos)
	Implementada la simulación desde ficheros .sl
	Comprobamos que desde los .log sólo se use el COG
	Revisado el paso de parámetros a connectsilop()	 y su documentacion
	Modificada addimu, para tener los parámetros en el mismo orden que las demás
	Modificada addimu para que se pueda indicar la orientación del sensor.
	Documentar el parámetro RMS en energiawavelet
	bug Eliminada 1º linea extra de ejes_anatomicos
	Documentar cual es la diferencia entre InitBus y ReqConfiguration
	implementada alg_ejes_anatomicos preliminar
	reestructurados los directorios. by request de Rafa y JC.
	bug Añadidos los comandos drawnow a todas las funciones alg_bar* y alg_plot*  de dibujado

v0.7.2  Se recupera el connectsilop de Rafa. No se habia incluido en versiones 0.7 y 0.7.1 correctamente.

v0.7.1  Se usa echodemo silopdemo desde las demo.xml
        Se corrige el paso de parámetros en alg_est_dist_*, que era incorrecto.

v0.7    Modificado generaayudas para que elimine las ayudas antiguas además de generar las nuevas
	Modificado generaayudas para que añada el número de versión. Está en el fichero Version
	playsilop() llama a stopsilop() automáticamente.
	Ahora silopdemo es una demo auténtica.
	Pasar parametros a alg_est_dist_* y se implementan todos los metodos actuales. alg_est_dist_arco,
	   alg_est_dist_pendulo, alg_est_dist_r4 y alg_est_dist_simur. 
	Creada loadsilop() para leer nuestros propios archivos
	Capturar la pulsación de ESC en playsilop. Incorporada getkey para hacerlo.
	stopsilop guarda los datos correctamente
	playsilop permite guardar los datos.
	Initsilop añade nuevo campo config.bus.file para indicar que se salven los datos	
	Añadidas alg_est_orient_compas y alg_est_orient_kalman
	Renombrada alg_est_orient a alg_est_orient_gyro y añadido parámetro para configurar la frecuencia.
	Numero de versión 0.7. Nuevas características.	
	Implementar correctamente silopconnect por Rafa
	Incorporadas modificaciones de Rafa a playsilop() para que inicie la captura con el XbusMaster
	Incorporadas modificaciones de Rafa a creaxbusmaster() para configurar desde connectsilop()
	Incorporadas modificaciones de Rafa a stopsilop() para que detenga la captura del XbusMaster

v0.6    Añadir como demo de matlab el silop clásico
	Movido el arranque de la simulación de connectsilop a playsilop
	Todo probado y funcionando, con un test.log de los experimentos antiguos como log by default.
	alg_det_mov corregida. Se buscan variaciones respecto a la media de cada tramo, y no valores absolutos
	Cambio de nombre. rafa.log es ahora test.log. Se usa para la demo 
	Eliminada parasilop4.mat, que hacía tiempo que no se usaba
	Añadidas alg_plot_pos2d y alg_plot_senhales. Reemplazan y amplían a representa que se ha eliminado.
	Añadirse al helpdesk correctamente
	Implementar alg_est_2d. private
	Bug en addalgoritmo, que no incluia bien las dependencias multiples.
	Implementar alg_est_orient. private
	Implementar alg_est_dist. private
	Cambio menor a creacomando para permitir dependencias que generen multiples valores. Faltaba el [ ]
	Implementar alg_detecta_eventos. private
	Incorporado algoritmo para detección de movimiento. alg_det_mov
	Documentada la estructura de captura y procesamiento de las señales.
	Incorporada stopsilop. Resetea correctamente simula_muestreo si estamos en simulación
	Incorporada playsilop, incluye creacomandos y desplaza 
	Incorporada silopdemo
	incorporada a la toolbox addalgoritmo, que tiene dentro buscaalgoritmo
	incorporada a la toolbox connectsilop. Por ahora sólo va en simulación
	incorporada a la toolbox simula_muestreo, como callback private.
	incorporada la función addimu
	incorporada la funcion initsilop
	Definir la estructura de captura y procesamiento de las señales.
	Añadida la toolbox al menu inicio
	Se pasan buscamaximos, buscamaximosth y filtro0 a funciones normales, by user request. A partir de ahora
	   serán privadas las que sean de utilidad exclusiva de pocas funciones/scripts y no se suelan emplear
	   desde la linea de comandos.
	Actualizado número de versión 0.6 (nuevas características)
	eliminar evento_IC_RT.m

v0.5.   Documentar las funciones privadas del Xsens.
	s_calculaenenrgiawavelet renombrada a energiawavelet y documentada (cambiadas las funciones que la usan).
	Documentadas las funciones privadas de procesamiento de datos
	s_tomardatosfichero pasa a ser funcion anidada de entrena_ident_act
	s_separardatosvector pasa a ser función anidada de entrena_ident_act
	picos.m eliminada. tiene bugs graves. Rafa tiene su propia versión
	Terminado de ordenar las funciones en la documentación.
	Bug corregido. Se usa SILOP_DATA_BUFFER en gotomeasurement. No parece que tuviese efectos negativos.
  Bug corregido. Se usan las variables persistentes sin redefinirlas en eventos_RT y evento_IC_RT
	Bug corregido. Se limpia SILOP_DATA_BUFFER al salir de crearXbusMaster
	bug corregido, en la función evento_IC_RT se cambia la llamada a picos por localmaxima, 
		y se comprueba tamaño de pmax
	bug corregido. Igual que el anterior en eventos_RT.
  Incrementar el número de versión a 0.5(nuevas caracteristicas)
	El número de versión se actualiza ahora desde las propiedades del documento. Campo Tema.
	Añadida eventos_RT para detectar tanto el IC como el TO
  Puestos warning de obsoleta en evento_IC_RT

v0.4.	Incrementado el número de versión
	Eliminada la función EventosCOG
  Bug corregido.fijada a 100Hz la frecuencia por defecto en distanciapendulo y distancia pendulo parcial, 
		en lugar de 0Hz 
  Añadida la carpeta archive. Contiene funciones que en su momento fueron parte de private, pero ahora no se usan.
             No se pueden llamar sin reincluir en private, pero se conserva su código y quedan documentadas en el html
	Incluidas las funciones privadas de jesus para identificación de actividades. Coautor Antonio
  Incluidas las funciones ident_act y entrena_ident_act desarrolladas por jesus para la deteccion de actividades.
  Incluida evaluasentadillas que se había quedado sin actualizar en v0.3. eliminada desplazamientosentadillas.
	Bug corregido. Se llama a leerXBusData a traves de un functionhandle, que es válido para las funciones private
 	Documentar las funciones de jesus para la detecciond de actividades
	Funciones privadas picos y localmaxima necesarias para deteccion en TR de Javi
	Incluida y documentada la funcion de Javi para la detección del IC en tiempo real.

v0.3.	Incorporadas todas las funciones de Rafa para la captura de los Xsens
	Eliminada dibuja_eventos
	Eliminada desplazamiento_sentadillas, que se sustituye por evalua_sentadillas
	Eliminada distancia_recto
	Añadida evaluasalto que reemplaza a tiempo_saltos
	Añadida eventospiraguas
	Añadida frecuenciapaladas
	Revision documentacion automatica

v0.2    Añadido el pdf (y el .doc con la documentación) por JC
	Corregido desplazamientosentadillas
	Renombrada eventos_PIE_recto a eventpierectoff
	Añadido integrasig
	Revision documentacion automatica

v0.1    Añadidas funciones para la orientacion
	Correcciones en buscamaximosth y funciones relacionadas con los salots

v0.0.4  Correccion de error en la frecuencia del filtro de deteccion de los pasos en eventosCOGRecto
	Correcciones de errores ¿cuales?		
	Eliminado el history.txt, que luego se recuperará para generar este fichero.
	
v0.0.3  Añadido un history.txt para documentar cambios
	Correcciones de errores ¿cuales?		

v0.0.2  Añadidas todas las funciones de los saltos y sentadillas
	Modificaciones en distanciarecto
	Eliminada distanciapenduloparcialhs, distanciapenduloparcial incluyes sus capacidades.
	Correcciones de errores ¿cuales?

v0.0.1 Versión original de la toolbox by JC
