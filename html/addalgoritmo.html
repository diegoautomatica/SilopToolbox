<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html>
<head>
<meta name="author of conversion perl script" content="Hartmut Pohlheim" />
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />

<meta name="description" content=" ADDALGORITMO Añade un algoritmo al sistema de procesamiento de las aplicaciones estandar de la toolbox " />
<meta name="keywords" content="  silopdemo " />
<title>Documentation of  addalgoritmo</title>
</head>
<body >
<h1 >Documentation of  addalgoritmo</h1>
<hr size="3" noshade="noshade" />

<p align="center">Global Index (<a href = "indexsgf.html">short</a> | <a href = "indexlgf.html">long</a>)
 | <a href="Contentssilop.html">Local contents</a>
 | Local Index (<a href = "indexslfsilop.html">short</a> | <a href = "indexllfsilop.html">long</a>)
</p>

<hr size="3" noshade="noshade" />
<h2 >Function Synopsis</h2>
<pre>CONFIG = addalgoritmo(conf, nombre, n_valores_retorno, senhales, params, dependencias)</pre>
<hr size="3" noshade="noshade" />
<h2 >Help text</h2>
<pre>
 ADDALGORITMO Añade un algoritmo al sistema de procesamiento de las aplicaciones estandar de la toolbox

 ADDALGORITMO añade un algoritmo al sistema de procesamiento de las aplicaciones estandar de la toolbox. 
 No se pueden incluir algoritmos antes de realizar la conexión mediante <a class="mfun" href="connectsilop.html">connectsilop</a>() ni después de 
 iniciarse el procesamiento con silopstart
 
 Syntax: 
   CONFIG=addalgoritmo(CONFIG, nombre, n_valores_retorno, senhales, params, dependencias)

   Parámetros de entrada: 
	CONFIG   -&gt; estructura de configuración de la aplicación antes de añadir el sensor
	nombre   -&gt; Nombre del algoritmo a usar
	n_valores_retorno -&gt; Número de datos calculados por el algoritmo
	senhales -&gt; señales que va a emplear el algoritmo
	params  -&gt; parametros de configuración del algoritmo
	dependencias -&gt; señales generadas por otros programas que necesita el algoritmo
   Parámetros de salida: 
	CONFIG  Estructura de configuración de la aplicación después de añadir el sensor
 
 Examples: 
   

 See also: 
</pre>
<hr size="3" noshade="noshade" />
<h2 >Cross-Reference Information</H2>
<table border="0" width="100%">
<tr align="left">
<th width="50%"></th>
<th width="50%">This function is called by</th>
</tr>
<tr valign="top"><td></td><td>
<ul>
<li><a class="mfun" href="silopdemo.html">silopdemo</a></li>
</ul>
</td>
</tr>
</table>
<hr size="3" noshade="noshade" />
<h2 >Listing of function addalgoritmo</h2>
<pre>


<em class="mcom">% Author:   Antonio López</em>
<em class="mcom">% History:  24.01.2008  creado</em>
<em class="mcom">%           25.01.2008 Incorporado a la toolbox</em>
<em class="mcom">%           01.02.2008 se busca con buscaposiciones{k} y no de {l}. Necesario para dependencias multiples   </em>

function CONFIG = addalgoritmo(conf, nombre, n_valores_retorno, senhales, params, dependencias)

    CONFIG = conf;
    
    col_disp = CONFIG.GLOBAL.COLUMNADISPONIBLE;
    if(col_disp == -1)
        col_disp = CONFIG.SENHALES.NUMEROSENHALES+1;
    end;
    
    alg.nombre = nombre;
    alg.posiciones = col_disp:col_disp+n_valores_retorno-1;
    CONFIG.GLOBAL.COLUMNADISPONIBLE = col_disp+n_valores_retorno;
    
    alg.parametros = params;    
    alg.senhales = senhales;

    if(isempty(dependencias))
        alg.dependencias = {};
    else
        l=length(dependencias);
        alg.dependencias = cell(l, 1);
        for k=1:l
            pos=buscaposiciones(CONFIG, dependencias{k});
            if(isempty(pos))
		warning('No se encuentra la dependencia indicada. Dependencia invalida');
            else
                alg.dependencias{k} = pos;
            end;
        end;
    end;
     
    
    CONFIG.ALGORITMOS = [CONFIG.ALGORITMOS alg];





%%%<em class="mcom">%Función para localizar un algoritmo.</em>
function posiciones = buscaposiciones(CONFIG, nombre)

    vec = CONFIG.ALGORITMOS;
    if(length(vec))
        k=1;
        while ((k&lt;=length(vec))&amp;&amp;(~strcmp(nombre, vec(k).nombre)))
            k = k+1;
        end;
        if(k&lt;=length(vec))
            posiciones = vec(k).posiciones;
        else
            posiciones = [];
        end;
    else
        warning('No se han creado algoritmos');
    end;
</pre>
<hr size="3" noshade="noshade" />
<!--navigate-->
<!--copyright-->
</body>
</html>
